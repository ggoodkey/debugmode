"use strict";var APP;(function(e){function t(t){t&&t.stopPropagation(),!0===C?(e.debug("Debug Mode turned off"),e.setDebugMode(!1)):(e.setDebugMode(!0),e.debug("Debug Mode turned on"))}function n(){d(),y.className=/debugRight/.test(y.className)?"":"debugRight"}function o(e){var t,n,o,r=e.getMinutes(),i=e.getSeconds(),d=e.getMilliseconds();return E++,x=e.getTime(),t=r<10?"0"+r:r.toString(),n=i<10?"0"+i:i.toString(),o=d<10?"0"+d:d.toString(),o=d<100?"0"+o:o,t+":"+n+":"+o}function r(t,n,o,r){function i(e,t,n){var o='<span class="debug-';return o+=e,o+='"',n&&(o+=' title="',o+=n,o+='"'),o+=">",o+=t.toString(),o+="</span>",o}function d(e){var t="";return e instanceof Function?t=i("function","function() {...}"):"number"==typeof e&&e>16e11&&e<2e12?t=i("number",e,new Date(e).toString()):"bigint"==typeof e?t=i(typeof e,e.toString()+"n"):null===e?t=i("error","null"):void 0===e?t=i("error","undefined"):"string"==typeof e?(""===e?t=i("error",'Empty string: ("")'):" "===e?t=i("error",'A space: (" ")'):(e=e.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"}),e=e.replace(/\r\n|\r|\n/g,i("text","NL")+"<br />"),t=i("string",e)),t.length>5007&&(t=t.slice(0,5e3)+"</span>"+i("text","...etc. etc. "+t.length/5e3+" times"))):t="object"==typeof e?e instanceof Date?i("date",e):e instanceof Array?a(e):e instanceof Error?i("error",e.name+": "+e.message,e.stack):i("text","{ "+u(e)+" }"):i(typeof e,e),e=null,t}function a(e){var t=[],n=e.length;if(0===n)return i("array","[ "+i("error","Empty array")+" ]");for(var o=0;o<n;o++)t[o]=d(e[o]);var r=i("array","[ "+t.join(", ")+" ]");return t=null,e=null,r}function l(e){function t(){for(d+="<br />",a=0;a<i;a++)d+="&nbsp;&nbsp;&nbsp;&nbsp;"}function n(n){n++;for(let o=1,r=e.length;n<r;n++)if("["===e[n]&&(o++,o>u&&(u=o)),"]"===e[n]&&(o--,0===o))return u>0&&(c=n,i++,t()),u;return 0}var o,r=!1,i=0,d="",a=0,l=0,u=0,c=0;for(let a=0,s=e.length;a<s;a++)"}"!==e[a]&&("]"!==e[a]||a!==c)||r||(i--,t()),d+=e[a],'"'===e[a]&&"\\"!==o?r=!r:r||(","===e[a]?(t()," "===e[a+1]&&a++):"["===e[a]?(a>c&&n(a),l++):"]"===e[a]?(l--,0===l&&(u=0)):"{"===e[a]&&(i++,t()," "===e[a+1]&&a++)),o=e[a];return d}function u(e){var t,n=[],o=0;for(let r in e)if(t=e[r],n[o]=r+": "+d(t),o++,o>25){n[o]="continued....";break}return o=null,e=null,t=null,n.join(",")}function c(){/debugmodeOn/.test(L.className)||(L.className=L.className+" debugmodeOn");var e="<span class='debug-timestamp'>";e+=t,e+="</span><br />&nbsp;&nbsp;",o?r||/error/i.test(o)?e+=i("error",o+" "+n):e+=o+" "+n:e+=n,e+="<br />",e+=v.innerHTML,v.innerHTML=e,e=null}function s(e){o?console.log(t,o,e):console.log(t,e)}!0===S&&(r||o&&/error/i.test(o))&&e.setDebugMode(!0),!0===S&&console&&s(n),!0===C&&(n=n instanceof Array?l(a(n)):n instanceof Function?i("function","function() {...}"):n instanceof Date?i("date",n):null==n?d(n):n instanceof Error?i("error",n.name+": "+n.message,n.stack):"object"==typeof n?i("object","{ "+l(u(n))+" }"):d(n),c()),n=null,o=null}function i(e){for(e=String(e);/\s\s/g.test(e);)e=e.replace(/\s\s/g," ");return" "===e?"":e.replace(/^\s+|\s+$/gm,"")}function d(){var e=null!==window.innerWidth?window.innerWidth:null!==document.body&&null!==document.body.clientWidth?document.body.clientWidth:null!==window.screen?window.screen.availWidth:0,t="debugShowLarge ";e<=640&&(t="debugShowSmall "),L.className=i(t+L.className.replace(/debugShowLarge|debugShowSmall/g,""))}function a(){var e=document.createElement("style");p=document.createElement("div"),p.id="debugButtons",w=document.createElement("button"),w.id="clearDebug",w.type="button",w.title="Clear and Hide Debug Window",w.appendChild(document.createTextNode("_")),h=document.createElement("button"),h.id="expandDebug",h.type="button",h.title="Toggle Fullscreen",h.appendChild(document.createTextNode("◻")),f=document.createElement("button"),f.id="hideDebug",f.type="button",f.title="Close Debug Window",f.appendChild(document.createTextNode("⨯")),v=document.createElement("div"),v.id="debugMsg",y=document.createElement("div"),y.id="debug",p.appendChild(w),p.appendChild(h),p.appendChild(f),y.appendChild(p),y.appendChild(v),d(),e.type="text/css",e.innerText="#debug{display:none}#debugButtons{position:absolute;top:0;right:16px;z-index:1}#hideDebug,#expandDebug,#clearDebug{cursor:pointer;background-color:transparent;border:1px solid transparent;display:inline-block;vertical-align:middle;font-size:1em;font-weight:bold;font-family:Arial,sans-serif;padding:8px;}#hideDebug{font-size:1.3em}#expandDebug{font-size:1.1em}html.debugmodeOn #debug{color:#eee;background-color:#111;background-color:rgba(0,0,0,0.7);text-shadow:0 0 2px #000;font-family:Consolas,'Courier New',Courier,monospace;position:fixed;top:0;left:0;right:auto;right:initial;width:auto;min-width:25%;max-width:40%;height:100%;visibility:visible;display:block;z-index:1099}html.debugmodeOn #debugMsg{height:100%;width:100%;-ms-word-wrap:break-word;word-wrap:break-word;overflow:auto}html.debugmodeOn #debug.debugRight{left:auto;left:initial;right:0}html.debugShowSmall #debug{position:fixed;width:100%;max-width:100%;height:45%;top:auto;top:initial;bottom:0}html.debugShowSmall #debug.debugRight{top:0;bottom:auto;bottom:initial}html.debugmodeOn.debugExpanded #debug{width:100%;max-width:100%;height:100%}.debug-object{color:cyan}.debug-function{color:magenta}.debug-error{color:red}.debug-string{color:lightblue}.debug-boolean{color:lightgreen}.debug-date{color:pink}.debug-number{color:yellow}.debug-text{color:white}.debug-array{color:orange}.debug-bigint{color:limegreen}.debug-symbol{color:hotpink}.debug-timestamp{color:#CCC;font-size:0.75em}",document.head.appendChild(e),window.document.body.insertBefore(y,window.document.body.firstChild),f.addEventListener("click",t),h.addEventListener("click",l),w.addEventListener("click",u),y.addEventListener("click",n),M=!0}function l(e){e&&e.stopPropagation(),L&&(/debugExpanded/.test(L.className)?L.className=i(L.className.replace(/debugExpanded/g,"")):L.className=i("debugExpanded "+L.className))}function u(e){e&&e.stopPropagation(),v.innerHTML="",L&&(L.className=i(L.className.replace(/debugmodeOn/g,"")))}function c(){f&&f.removeEventListener("click",t),h&&h.removeEventListener("click",l),w&&w.removeEventListener("click",u),y&&(y.removeEventListener("click",n),window.document.body.removeChild(y)),L&&(L.className=i(L.className.replace(/debugmodeOn|debugShowLarge|debugShowSmall/g,"")))}function s(t){if(!0===t){for(M||a(),C=t;k-- >0;)r.apply(null,N[k]);N=[]}else!1===t?(c(),M=!1,C=t):(C=!0,e.debug(t,"Error: Cannot set DebugMode to",!0));return C}function g(t){if(!0===t){for(M||a(),S=t;k-- >0;)r.apply(null,N[k]);N=[]}else!1===t?(S=t,!1===C&&(c(),M=!1)):(S=!0,e.debug(t,"Error: Cannot set DebugToConsole to",!0));return S}function b(t,n,r){!0===C?e.debug(t,n,r):(N[k]=[o(new Date),t,n,r],k++)}function m(e,t,n){if(M){var i=new Date;if(!0===D&&i.getTime()-x>5e3&&(E=0,D=!1),!1===D&&E>250&&i.getTime()<x+1e3){var d="<br />--TOO MANY MESSAGES LOGGED--<br /><br />";d+=v.innerHTML,v.innerHTML=d,d=null,D=!0}!1===D&&r(o(i),e,t,n),i=null}}var p,f,h,w,y,v,E=0,x=(new Date).getTime(),D=!1,C=!1,S=!1,N=[],k=0,M=!1,L=document.getElementsByTagName("html")[0];e.setDebugMode=s,e.setDebugToConsole=g,e.cacheMsg=b,e.debug=m})(APP||(APP={}));